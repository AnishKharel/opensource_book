<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>"Undoing" in Git</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="Open Source">
<meta property="book:author" content="Dr. Jan Pearce">
<script>var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  tex: {
    inlineMath: [['\\(','\\)']],
    tags: "none",
    tagSide: "right",
    tagIndent: ".8em",
    packages: {'[+]': ['base', 'extpfeil', 'ams', 'amscd', 'newcommand', 'knowl']}
  },
  options: {
    ignoreHtmlClass: "tex2jax_ignore|ignore-math",
    processHtmlClass: "process-math",
  },
  chtml: {
    scale: 0.88,
    mtextInheritFont: true
  },
  loader: {
    load: ['input/asciimath', '[tex]/extpfeil', '[tex]/amscd', '[tex]/newcommand', '[pretext]/mathjaxknowl3.js'],
    paths: {pretext: "https://pretextbook.org/js/lib"},
  },
  startup: {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
},
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.css" rel="stylesheet">
<script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.13/pretext.js"></script><script>miniversion=0.674</script><script src="https://pretextbook.org/js/0.13/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/style_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/colors_blue_red.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.4/setcolors.css" rel="stylesheet" type="text/css">
<!--** eBookCongig is necessary to configure interactive       **-->
<!--** Runestone components to run locally in reader's browser **-->
<!--** No external communication:                              **-->
<!--**     log level is 0, Runestone Services are disabled     **-->
<script type="text/javascript">
eBookConfig = {};
eBookConfig.useRunestoneServices = false;
eBookConfig.host = 'http://127.0.0.1:8000';
eBookConfig.course = 'PTX_Course_Title_Here';
eBookConfig.basecourse = 'PTX_Base_Course';
eBookConfig.isLoggedIn = false;
eBookConfig.email = '';
eBookConfig.isInstructor = false;
eBookConfig.logLevel = 0;
eBookConfig.username = '';
eBookConfig.readings = null;
eBookConfig.activities = null;
eBookConfig.downloadsEnabled = false;
eBookConfig.allow_pairs = false;
eBookConfig.enableScratchAC = false;
eBookConfig.build_info = "";
eBookConfig.python3 = null;
eBookConfig.runestone_version = '5.0.1';
eBookConfig.jobehost = '';
eBookConfig.proxyuri_runs = '';
eBookConfig.proxyuri_files = '';
eBookConfig.enable_chatcodes =  false;
</script>
<!--*** Runestone Services ***-->
<script type="text/javascript" src="https://runestone.academy/cdn/runestone/6.3.7/runtime.980858fa0f34fd96.bundle.js"></script><script type="text/javascript" src="https://runestone.academy/cdn/runestone/6.3.7/637.d54be67956c5c660.bundle.js"></script><script type="text/javascript" src="https://runestone.academy/cdn/runestone/6.3.7/runestone.dca7462213311157.bundle.js"></script><link rel="stylesheet" type="text/css" href="https://runestone.academy/cdn/runestone/6.3.7/637.fafafbd97df8a0d1.css">
<link rel="stylesheet" type="text/css" href="https://runestone.academy/cdn/runestone/6.3.7/runestone.e4d5592da655219f.css">
</head>
<body class="pretext-book ignore-math has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\N}{\mathbb N}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="open-source.html"><span class="title">Open Source:</span> <span class="subtitle">What It Is and How to Contribute</span></a></h1>
<p class="byline">Dr. Jan Pearce</p>
</div>
</div></div>
<nav id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3">
<a class="index-button toolbar-item button" href="index-1.html" title="Index">Index</a><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="sec_git_branching.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="ch_git.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="sec_git_github.html" title="Next">Next</a></span>
</div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="sec_git_branching.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="ch_git.html" title="Up">Up</a><a class="next-button button toolbar-item" href="sec_git_github.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link frontmatter">
<a href="meta_frontmatter.html" data-scroll="meta_frontmatter" class="internal"><span class="title">Front Matter</span></a><ul>
<li><a href="colophon-1.html" data-scroll="colophon-1" class="internal">Open Source License</a></li>
<li><a href="dedication-1.html" data-scroll="dedication-1" class="internal">Dedication</a></li>
<li><a href="acknowledgement-1.html" data-scroll="acknowledgement-1" class="internal">Acknowledgements</a></li>
<li><a href="meta_frontmatter-preface.html" data-scroll="meta_frontmatter-preface" class="internal">Preface</a></li>
<li><a href="meta_frontmatter-forward.html" data-scroll="meta_frontmatter-forward" class="internal">Forward</a></li>
</ul>
</li>
<li class="link">
<a href="ch_intro_2_oss.html" data-scroll="ch_intro_2_oss" class="internal"><span class="codenumber">1</span> <span class="title">Introduction to Open Source Software (OSS)</span></a><ul>
<li><a href="sec_oss_what_it_is.html" data-scroll="sec_oss_what_it_is" class="internal">What is Open Source Software?</a></li>
<li><a href="sec_oss_matters.html" data-scroll="sec_oss_matters" class="internal">Why OSS Matters</a></li>
<li><a href="sec_oss_source_code.html" data-scroll="sec_oss_source_code" class="internal">About Source Code</a></li>
<li><a href="sec_oss_share_code.html" data-scroll="sec_oss_share_code" class="internal">On Sharing Source Code</a></li>
<li><a href="sec_oss_contributor_mountain.html" data-scroll="sec_oss_contributor_mountain" class="internal">Climbing Contributor Mountain</a></li>
<li><a href="sec_oss_build_portfolio.html" data-scroll="sec_oss_build_portfolio" class="internal">Building your OSS Portfolio</a></li>
</ul>
</li>
<li class="link">
<a href="ch_community.html" data-scroll="ch_community" class="internal"><span class="codenumber">2</span> <span class="title">OSS Community and Communication</span></a><ul>
<li><a href="sec_community_global.html" data-scroll="sec_community_global" class="internal">The Challenges of Global Community</a></li>
<li><a href="sec_oss_third_culture.html" data-scroll="sec_oss_third_culture" class="internal">The Synthetic Third Culture</a></li>
<li><a href="sec_community_qualities.html" data-scroll="sec_community_qualities" class="internal">Qualities of an OSS Community</a></li>
<li><a href="sec_community_communication.html" data-scroll="sec_community_communication" class="internal">OSS Community Communication</a></li>
</ul>
</li>
<li class="link">
<a href="ch_licensing.html" data-scroll="ch_licensing" class="internal"><span class="codenumber">3</span> <span class="title">Open Source Licensing</span></a><ul>
<li><a href="sec_licensing_about.html" data-scroll="sec_licensing_about" class="internal">About Licensing</a></li>
<li><a href="sec_licensing_typical.html" data-scroll="sec_licensing_typical" class="internal">Typical Open Source Licenses</a></li>
<li><a href="sec_licensing_existing_communities.html" data-scroll="sec_licensing_existing_communities" class="internal">Existing OSS Communities</a></li>
<li><a href="sec_licensing_none.html" data-scroll="sec_licensing_none" class="internal">No License</a></li>
</ul>
</li>
<li class="link">
<a href="ch_dev_env.html" data-scroll="ch_dev_env" class="internal"><span class="codenumber">4</span> <span class="title">OSS Development Environment</span></a><ul>
<li><a href="sec_dev_shell_terms.html" data-scroll="sec_dev_shell_terms" class="internal">Using the Command Line</a></li>
<li><a href="sec_dev_basic_shell_commands.html" data-scroll="sec_dev_basic_shell_commands" class="internal">Basic Shell Commands</a></li>
<li><a href="sec_dev_editors.html" data-scroll="sec_dev_editors" class="internal">We All Need an Editor!</a></li>
<li><a href="sec_dev_virtualization.html" data-scroll="sec_dev_virtualization" class="internal">Virtualization</a></li>
</ul>
</li>
<li class="link">
<a href="ch_git.html" data-scroll="ch_git" class="internal"><span class="codenumber">5</span> <span class="title">Version Control with Git</span></a><ul>
<li><a href="git-why-version-control.html" data-scroll="git-why-version-control" class="internal">Why Version Control?</a></li>
<li><a href="sec_git_getting_started.html" data-scroll="sec_git_getting_started" class="internal">Getting Started with Git</a></li>
<li><a href="sec_git_basics.html" data-scroll="sec_git_basics" class="internal">Git Basics</a></li>
<li><a href="sec_git_branching.html" data-scroll="sec_git_branching" class="internal">Git Branching</a></li>
<li><a href="sec_git_undoing.html" data-scroll="sec_git_undoing" class="active">"Undoing" in Git</a></li>
<li><a href="sec_git_github.html" data-scroll="sec_git_github" class="internal">GitHub - Git in the Cloud</a></li>
</ul>
</li>
<li class="link">
<a href="ch_documentation.html" data-scroll="ch_documentation" class="internal"><span class="codenumber">6</span> <span class="title">Documentation</span></a><ul>
<li><a href="sec_documentation_matters.html" data-scroll="sec_documentation_matters" class="internal">Documentation Matters</a></li>
<li><a href="sec_documentation_involvement.html" data-scroll="sec_documentation_involvement" class="internal">Documentation as Involvement</a></li>
</ul>
</li>
<li class="link">
<a href="ch_building_code.html" data-scroll="ch_building_code" class="internal"><span class="codenumber">7</span> <span class="title">Getting and Building the Code</span></a><ul><li><a href="sec_source_to_executable.html" data-scroll="sec_source_to_executable" class="internal">From Source to Executable</a></li></ul>
</li>
<li class="link">
<a href="ch_bugs_and_debugging.html" data-scroll="ch_bugs_and_debugging" class="internal"><span class="codenumber">8</span> <span class="title">Bugs and Debugging</span></a><ul>
<li><a href="sec_bug_trackers.html" data-scroll="sec_bug_trackers" class="internal">Bug Trackers</a></li>
<li><a href="sec_bug_reports.html" data-scroll="sec_bug_reports" class="internal">Bug Reports</a></li>
<li><a href="sec_bug_triage.html" data-scroll="sec_bug_triage" class="internal">Bug Triage</a></li>
</ul>
</li>
<li class="link backmatter"><a href="meta_backmatter.html" data-scroll="meta_backmatter" class="internal"><span class="title">Appendices</span></a></li>
<li class="link"><a href="list_of_symbols.html" data-scroll="list_of_symbols" class="internal"><span class="codenumber">A</span> <span class="title">List of Symbols</span></a></li>
<li class="link">
<a href="ap_cheat_sheets.html" data-scroll="ap_cheat_sheets" class="internal"><span class="codenumber">B</span> <span class="title">Cheat Sheets</span></a><ul>
<li><a href="ap_shell_cheat_sheet.html" data-scroll="ap_shell_cheat_sheet" class="internal">Bash Shell Cheat Sheet</a></li>
<li><a href="ap_git_cheat_sheet.html" data-scroll="ap_git_cheat_sheet" class="internal">Git Cheat Sheet</a></li>
</ul>
</li>
<li class="link"><a href="index-1.html" data-scroll="index-1" class="internal"><span class="title">Index</span></a></li>
<li class="link"><a href="colophon-2.html" data-scroll="colophon-2" class="internal"><span class="title">Colophon</span></a></li>
</ul></nav><div class="extras"><nav><a class="pretext-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content">
<section class="section" id="sec_git_undoing"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">5.5</span> <span class="title">"Undoing" in Git</span>
</h2>
<section class="introduction" id="introduction-23"><p id="p-629">At any stage, you may want to undo something. Here, we’ll review a few tools for undoing changes that you’ve made. Be careful though. This is one of the areas in Git where you may lose some work if you do it wrong, because you can’t always undo some of these undos.</p></section><section class="section" id="_undoing"><h3 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">5.5.1</span> <span class="title">Undoing Changes</span>
</h3>
<p id="p-630">One of the common undos takes place when you commit too early and possibly forget to add some files, or you mess up your commit message. If you want to redo that commit, make the additional changes you forgot, stage them, and commit again using the <code class="code-inline tex2jax_ignore">--amend</code> option:</p>
<pre class="code-block tex2jax_ignore">$ git commit --amend
</pre>
<p id="p-631">This command takes your staging area and uses it for the commit. If you’ve made no changes since your last commit (for instance, you run this command immediately after your previous commit), then your snapshot will look exactly the same, and all you’ll change is your commit message.</p>
<p id="p-632">The same commit-message editor fires up, but it already contains the message of your previous commit. You can edit the message the same as always, but it overwrites your previous commit.</p>
<p id="p-633">As an example, if you commit and then realize you forgot to stage the changes in a file you wanted to add to this commit, you can do something like this:</p>
<pre class="code-block tex2jax_ignore">$ git commit -m 'Initial commit'
$ git add forgotten_file
$ git commit --amend
</pre>
<p id="p-634">You end up with a single commit — the second commit replaces the results of the first.</p>
<p id="p-635">Note: It’s important to understand that when you’re amending your last commit, you’re not so much fixing it as <em class="emphasis">replacing</em> it entirely with a new, improved commit that pushes the old commit out of the way and puts the new commit in its place. Effectively, it’s as if the previous commit never happened, and it won’t show up in your repository history.</p>
<p id="p-636">The obvious value to amending commits is to make minor improvements to your last commit, without cluttering your repository history with commit messages of the form, “Oops, forgot to add a file” or “Darn, fixing a typo in last commit”.</p>
<p id="p-637">Note: Only amend commits that are still local and have not been pushed somewhere. Amending previously pushed commits and force pushing the branch will cause problems for your collaborators. </p>
<section class="paragraphs" id="_unstaging"><h4 class="heading"><span class="title">Unstaging a Staged File.</span></h4>
<p id="p-638">The next two sections demonstrate how to work with your staging area and working directory changes. The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them. For example, let’s say you’ve changed two files and want to commit them as two separate changes, but you accidentally type <code class="code-inline tex2jax_ignore">git add *</code> and stage them both. How can you unstage one of the two? The <code class="code-inline tex2jax_ignore">git status</code> command reminds you:</p>
<pre class="code-block tex2jax_ignore">$ git add *
$ git status
On branch main
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README
    modified:   CONTRIBUTING.md
</pre>
<p id="p-639">Right below the “Changes to be committed” text, it says use <code class="code-inline tex2jax_ignore">git reset HEAD &lt;file&gt;…​</code> to unstage. So, let’s use that advice to unstage the <code class="code-inline tex2jax_ignore">CONTRIBUTING.md</code> file:</p>
<pre class="code-block tex2jax_ignore">$ git reset HEAD CONTRIBUTING.md
Unstaged changes after reset:
M   CONTRIBUTING.md
$ git status
On branch main
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md
</pre>
<p id="p-640">The command is a bit strange, but it works. The <code class="code-inline tex2jax_ignore">CONTRIBUTING.md</code> file is modified but once again unstaged.</p>
<p id="p-641">Note: It’s true that <code class="code-inline tex2jax_ignore">git reset</code> can be a dangerous command, especially if you provide the <code class="code-inline tex2jax_ignore">--hard</code> flag. However, in the scenario described above, the file in your working directory is not touched, so it’s relatively safe.</p>
<p id="p-642">For now this magic invocation is all you need to know about the <code class="code-inline tex2jax_ignore">git reset</code> command.</p></section><section class="paragraphs" id="_unmodifying_a_modified_file"><h4 class="heading"><span class="title">Unmodifying a Modified File.</span></h4>
<p id="p-643">What if you realize that you don’t want to keep your changes to the <code class="code-inline tex2jax_ignore">CONTRIBUTING.md</code> file? How can you easily unmodify it — revert it back to what it looked like when you last committed (or initially cloned, or however you got it into your working directory)? Luckily, <code class="code-inline tex2jax_ignore">git status</code> tells you how to do that, too. In the last example output, the unstaged area looks like this:</p>
<pre class="code-block tex2jax_ignore">Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md
</pre>
<p id="p-644">It tells you pretty explicitly how to discard the changes you’ve made. Let’s do what it says:</p>
<pre class="code-block tex2jax_ignore">$ git checkout -- CONTRIBUTING.md
$ git status
On branch main
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README
</pre>
<p id="p-645">You can see that the changes have been reverted.</p>
<p id="p-646">Important: It’s important to understand that <code class="code-inline tex2jax_ignore">git checkout -- &lt;file&gt;</code> is a dangerous command. Any local changes you made to that file are gone — Git just replaced that file with the last staged or committed version. Don’t ever use this command unless you absolutely know that you don’t want those unsaved local changes.</p>
<p id="p-647">If you would like to keep the changes you’ve made to that file but still need to get it out of the way for now, we’ll go over stashing and branching in the following section on Git Branching; these are generally better ways to go.</p>
<p id="p-648">Remember, anything that is <em class="emphasis">committed</em> in Git can almost always be recovered. Even commits that were on branches that were deleted or commits that were overwritten with an <code class="code-inline tex2jax_ignore">--amend</code> commit can be recovered. However, anything you lose that was never committed is likely never to be seen again.</p></section><section class="paragraphs" id="undoing_git_restore"><h4 class="heading"><span class="title">Undoing things with git restore.</span></h4>
<p id="p-649">Git version 2.23.0 introduced a new command: <code class="code-inline tex2jax_ignore">git restore</code>. It’s basically an alternative to <code class="code-inline tex2jax_ignore">git reset</code> which we just covered. From Git version 2.23.0 onwards, Git will use <code class="code-inline tex2jax_ignore">git restore</code> instead of <code class="code-inline tex2jax_ignore">git reset</code> for many undo operations.</p>
<p id="p-650">Let’s retrace our steps, and undo things with <code class="code-inline tex2jax_ignore">git restore</code> instead of <code class="code-inline tex2jax_ignore">git reset</code>.</p></section><section class="paragraphs" id="_unstaging_a_staged_file_with_git_restore"><h4 class="heading"><span class="title">Unstaging a Staged File with git restore.</span></h4>
<p id="p-651">The next two sections demonstrate how to work with your staging area and working directory changes with <code class="code-inline tex2jax_ignore">git restore</code>. The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them. For example, let’s say you’ve changed two files and want to commit them as two separate changes, but you accidentally type <code class="code-inline tex2jax_ignore">git add *</code> and stage them both. How can you unstage one of the two? The <code class="code-inline tex2jax_ignore">git status</code> command reminds you:</p>
<pre class="code-block tex2jax_ignore">$ git add *
$ git status
On branch main
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
    modified:   CONTRIBUTING.md
    renamed:    README.md -&gt; README
</pre>
<p id="p-652">Right below the “Changes to be committed” text, it says use <code class="code-inline tex2jax_ignore">git restore --staged &lt;file&gt;…​</code> to unstage. So, let’s use that advice to unstage the <code class="code-inline tex2jax_ignore">CONTRIBUTING.md</code> file:</p>
<pre class="code-block tex2jax_ignore">$ git restore --staged CONTRIBUTING.md
$ git status
On branch main
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
    renamed:    README.md -&gt; README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
    modified:   CONTRIBUTING.md
</pre>
<p id="p-653">The <code class="code-inline tex2jax_ignore">CONTRIBUTING.md</code> file is modified but once again unstaged.</p></section><section class="paragraphs" id="_unmodifying_a_modified_file_with_git_restore"><h4 class="heading"><span class="title">Unmodifying a Modified File with git restore.</span></h4>
<p id="p-654">What if you realize that you don’t want to keep your changes to the <code class="code-inline tex2jax_ignore">CONTRIBUTING.md</code> file? How can you easily unmodify it — revert it back to what it looked like when you last committed (or initially cloned, or however you got it into your working directory)? Luckily, <code class="code-inline tex2jax_ignore">git status</code> tells you how to do that, too. In the last example output, the unstaged area looks like this:</p>
<pre class="code-block tex2jax_ignore">Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
    modified:   CONTRIBUTING.md
</pre>
<p id="p-655">It tells you pretty explicitly how to discard the changes you’ve made. Let’s do what it says:</p>
<pre class="code-block tex2jax_ignore">$ git restore CONTRIBUTING.md
$ git status
On branch main
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
    renamed:    README.md -&gt; README
</pre>
<p id="p-656">Important: It’s important to understand that <code class="code-inline tex2jax_ignore">git restore &lt;file&gt;</code> is a dangerous command. Any local changes you made to that file are gone — Git just replaced that file with the last staged or committed version. Don’t ever use this command unless you absolutely know that you don’t want those unsaved local changes.</p>
<article class="exercise exercise-like" id="ex_git_oh_shit_git"><a href="" data-knowl="" class="id-ref exercise-knowl original" data-refid="hk-ex_git_oh_shit_git"><h5 class="heading">
<span class="type">Checkpoint</span><span class="space"> </span><span class="codenumber">5.5.1</span><span class="period">.</span><span class="space"> </span><span class="title">Read External Git Undoing Summary.</span>
</h5></a></article><div class="hidden-content tex2jax_ignore" id="hk-ex_git_oh_shit_git"><article class="exercise exercise-like"><p id="p-657">For a humorous summary of undoing in Git, go to <a class="external" href="https://ohshitgit.com/" target="_blank">Oh Shit, Git!?!</a><a href="" data-knowl="" class="id-ref fn-knowl original" data-refid="hk-fn-144" id="fn-144"><sup> 1 </sup></a></p></article></div></section></section><section class="conclusion" id="conclusion-10"><h3 class="heading">Section Summary.<span></span>
</h3>
<p id="p-658">As you have learned from this section, Git provides several tools for undoing changes that you have made. One of the most common undos is when you commit too early and forget to add some files, or you mess up your commit message or if you accidentally stage a file that you didn't mean to. However, it's important to be careful when using these commands because you can't always undo some of these undos.</p></section></section><div class="hidden-content tex2jax_ignore" id="hk-fn-144"><div class="fn"><code class="code-inline tex2jax_ignore">ohshitgit.com/</code></div></div>
</div></main>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
