<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<section class="paragraphs"><h5 class="heading"><span class="title">Iterating on a Pull Request.</span></h5>
<p>At this point, the project owner can look at the suggested change and merge it, reject it or comment on it. Let’s say that he likes the idea, but would prefer a slightly longer time for the light to be off than on.</p>
<p>Where this conversation may take place over email in the workflows presented in <a class="external" href="ch00/ch05-distributed-git" target="_blank">Distributed Git</a><a href="" class="fn-knowl original" data-knowl="./knowl/fn-154-hidden.html" title="Footnote 5.5.9"><sup> 9 </sup></a>, on GitHub this happens online. The project owner can review the unified diff and leave a comment by clicking on any of the lines.</p>
<figure class="figure figure-like"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/github-blink-04-pr-comment.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">5.5.4<span class="period">.</span></span><span class="space"> </span>Comment on a specific line of code in a Pull Request</figcaption></figure><p>Once the maintainer makes this comment, the person who opened the Pull Request (and indeed, anyone else watching the repository) will get a notification. We’ll go over customizing this later, but if he had email notifications turned on, Tony would get an email like this:</p>
<figure class="figure figure-like"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/github-blink-04-email.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">5.5.5<span class="period">.</span></span><span class="space"> </span>Comments sent as email notifications</figcaption></figure><p>Anyone can also leave general comments on the Pull Request. In <a class="external" href="ch00/_pr_discussion" target="_blank">Pull Request discussion page</a><a href="" class="fn-knowl original" data-knowl="./knowl/fn-155-hidden.html" title="Footnote 5.5.10"><sup> 10 </sup></a> we can see an example of the project owner both commenting on a line of code and then leaving a general comment in the discussion section. You can see that the code comments are brought into the conversation as well.</p>
<figure class="figure figure-like"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/github-blink-05-general-comment.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">5.5.6<span class="period">.</span></span><span class="space"> </span>Pull Request discussion page</figcaption></figure><p>Now the contributor can see what they need to do in order to get their change accepted. Luckily this is very straightforward. Where over email you may have to re-roll your series and resubmit it to the mailing list, with GitHub you simply commit to the topic branch again and push, which will automatically update the Pull Request. In <a class="external" href="ch00/_pr_final" target="_blank">Pull Request final</a><a href="" class="fn-knowl original" data-knowl="./knowl/fn-156-hidden.html" title="Footnote 5.5.11"><sup> 11 </sup></a> you can also see that the old code comment has been collapsed in the updated Pull Request, since it was made on a line that has since been changed.</p>
<p>Adding commits to an existing Pull Request doesn’t trigger a notification, so once Tony has pushed his corrections he decides to leave a comment to inform the project owner that he made the requested change.</p>
<figure class="figure figure-like"><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="external/github-blink-06-final.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">5.5.7<span class="period">.</span></span><span class="space"> </span>Pull Request final</figcaption></figure><p>An interesting thing to notice is that if you click on the “Files Changed” tab on this Pull Request, you’ll get the “unified” diff — that is, the total aggregate difference that would be introduced to your main branch if this topic branch was merged in. In <code class="code-inline tex2jax_ignore">git diff</code> terms, it basically automatically shows you <code class="code-inline tex2jax_ignore">git diff main&lt;branch&gt;</code> for the branch this Pull Request is based on. See <a class="external" href="ch00/_what_is_introduced" target="_blank">Determining What Is Introduced</a><a href="" class="fn-knowl original" data-knowl="./knowl/fn-157-hidden.html" title="Footnote 5.5.12"><sup> 12 </sup></a> for more about this type of diff.</p>
<p>The other thing you’ll notice is that GitHub checks to see if the Pull Request merges cleanly and provides a button to do the merge for you on the server. This button only shows up if you have write access to the repository and a trivial merge is possible. If you click it GitHub will perform a “non-fast-forward” merge, meaning that even if the merge <dfn class="terminology">could</dfn> be a fast-forward, it will still create a merge commit.</p>
<p>If you would prefer, you can simply pull the branch down and merge it locally. If you merge this branch into the <code class="code-inline tex2jax_ignore">main</code> branch and push it to GitHub, the Pull Request will automatically be closed.</p>
<p>This is the basic workflow that most GitHub projects use. Topic branches are created, Pull Requests are opened on them, a discussion ensues, possibly more work is done on the branch and eventually the request is either closed or merged.</p>
<p>Note: It’s important to note that you can also open a Pull Request between two branches in the same repository. If you’re working on a feature with someone and you both have write access to the project, you can push a topic branch to the repository and open a Pull Request on it to the <code class="code-inline tex2jax_ignore">main</code> branch of that same project to initiate the code review and discussion process. No forking necessary.</p>
<p><article class="exercise exercise-like"><a href="" class="exercise-knowl original" data-knowl="./knowl/exercise-14-hidden.html" title="Checkpoint [STRUCT].7: Introduction to Github">Introduction to GithubIntroduction to Github<sup> 13 </sup></a></article></p></section><span class="incontext"><a href="sec_git_github.html#_iterating_on_a_pull_request" class="internal">in-context</a></span>
</body>
</html>
