<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<section class="paragraphs"><h4 class="heading"><span class="title">Keep your GitHub public repository up-to-date.</span></h4>
<p>Once you’ve forked a GitHub repository, your repository (your "fork") exists independently from the original. In particular, when the original repository has new commits, GitHub informs you by a message like:</p>
<pre class="code-block tex2jax_ignore">This branch is 5 commits behind progit:master.
</pre>
<p>But your GitHub repository will never be automatically updated by GitHub; this is something that you must do yourself. Fortunately, this is very easy to do.</p>
<p>One possibility to do this requires no configuration. For example, if you forked from <a class="external" href="https://github.com/progit/progit2.git" target="_blank"><code class="code-inline tex2jax_ignore">https://github.com/progit/progit2.git</code></a><a href="" class="fn-knowl original" data-knowl="./knowl/fn-129-hidden.html" title="Footnote 6.4.29"><sup> 29 </sup></a>, you can keep your <code class="code-inline tex2jax_ignore">master</code> branch up-to-date like this:</p>
<pre class="code-block tex2jax_ignore">$ git checkout master (1)
$ git pull https://github.com/progit/progit2.git (2)
$ git push origin master (3)
</pre>
<ol class="decimal">
<li><p>If you were on another branch, return to <code class="code-inline tex2jax_ignore">master</code>.</p></li>
<li><p>Fetch changes from <a class="external" href="https://github.com/progit/progit2.git" target="_blank"><code class="code-inline tex2jax_ignore">https://github.com/progit/progit2.git</code></a><a href="" class="fn-knowl original" data-knowl="./knowl/fn-130-hidden.html" title="Footnote 6.4.30"><sup> 30 </sup></a> and merge them into <code class="code-inline tex2jax_ignore">master</code>.</p></li>
<li><p>Push your <code class="code-inline tex2jax_ignore">master</code> branch to <code class="code-inline tex2jax_ignore">origin</code>.</p></li>
</ol>
<p>This works, but it is a little tedious having to spell out the fetch URL every time. You can automate this work with a bit of configuration:</p>
<pre class="code-block tex2jax_ignore">$ git remote add progit https://github.com/progit/progit2.git (1)
$ git fetch progit (2)
$ git branch --set-upstream-to=progit/master master (3)
$ git config --local remote.pushDefault origin (4)
</pre>
<ol class="decimal">
<li><p>Add the source repository and give it a name. Here, I have chosen to call it <code class="code-inline tex2jax_ignore">progit</code>.</p></li>
<li><p>Get a reference on progit’s branches, in particular <code class="code-inline tex2jax_ignore">master</code>.</p></li>
<li><p>Set your <code class="code-inline tex2jax_ignore">master</code> branch to fetch from the <code class="code-inline tex2jax_ignore">progit</code> remote.</p></li>
<li><p>Define the default push repository to <code class="code-inline tex2jax_ignore">origin</code>.</p></li>
</ol>
<p>Once this is done, the workflow becomes much simpler:</p>
<pre class="code-block tex2jax_ignore">$ git checkout master (1)
$ git pull (2)
$ git push (3)
</pre>
<ol class="decimal">
<li><p>If you were on another branch, return to <code class="code-inline tex2jax_ignore">master</code>.</p></li>
<li><p>Fetch changes from <code class="code-inline tex2jax_ignore">progit</code> and merge changes into <code class="code-inline tex2jax_ignore">master</code>.</p></li>
<li><p>Push your <code class="code-inline tex2jax_ignore">master</code> branch to <code class="code-inline tex2jax_ignore">origin</code>.</p></li>
</ol>
<p>This approach can be useful, but it’s not without downsides. Git will happily do this work for you silently, but it won’t warn you if you make a commit to <code class="code-inline tex2jax_ignore">master</code>, pull from <code class="code-inline tex2jax_ignore">progit</code>, then push to <code class="code-inline tex2jax_ignore">origin</code> — all of those operations are valid with this setup. So you’ll have to take care never to commit directly to <code class="code-inline tex2jax_ignore">master</code>, since that branch effectively belongs to the upstream repository.</p></section><span class="incontext"><a href="sec_git_github.html#_fetch_and_push_on_different_repositories" class="internal">in-context</a></span>
</body>
</html>
