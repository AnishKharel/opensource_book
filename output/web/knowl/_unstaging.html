<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<section class="paragraphs"><h4 class="heading"><span class="title">Unstaging a Staged File.</span></h4>  <div class="para">The next two sections demonstrate how to work with your staging area and working directory changes. The nice part is that the command you use to determine the state of those two areas also reminds you how to undo changes to them. For example, let’s say you’ve changed two files and want to commit them as two separate changes, but you accidentally type <code class="code-inline tex2jax_ignore">git add *</code> and stage them both. How can you unstage one of the two? The <code class="code-inline tex2jax_ignore">git status</code> command reminds you:</div>  <pre class="code-block tex2jax_ignore">$ git add *
$ git status
On branch main
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README
    modified:   CONTRIBUTING.md
</pre> <div class="para">Right below the “Changes to be committed” text, it says use <code class="code-inline tex2jax_ignore">git reset HEAD &lt;file&gt;…​</code> to unstage. So, let’s use that advice to unstage the <code class="code-inline tex2jax_ignore">CONTRIBUTING.md</code> file:</div>  <pre class="code-block tex2jax_ignore">$ git reset HEAD CONTRIBUTING.md
Unstaged changes after reset:
M   CONTRIBUTING.md
$ git status
On branch main
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md
</pre> <div class="para">The command is a bit strange, but it works. The <code class="code-inline tex2jax_ignore">CONTRIBUTING.md</code> file is modified but once again unstaged.</div> <div class="para">Note: It’s true that <code class="code-inline tex2jax_ignore">git reset</code> can be a dangerous command, especially if you provide the <code class="code-inline tex2jax_ignore">--hard</code> flag. However, in the scenario described above, the file in your working directory is not touched, so it’s relatively safe.</div>  <div class="para">For now this magic invocation is all you need to know about the <code class="code-inline tex2jax_ignore">git reset</code> command.</div> </section><span class="incontext"><a href="sec_git_undoing.html#_unstaging" class="internal">in-context</a></span>
</body>
</html>
